<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pc controller: PowerCtrlHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">pc controller
   </div>
   <div id="projectbrief">Controller for home dekstop PC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classPowerCtrlHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PowerCtrlHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>the power controller class responsible for handling power controller endpoint functionalities for the pc controller  
 <a href="classPowerCtrlHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="power__ctrl__handler_8hpp_source.html">power_ctrl_handler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for PowerCtrlHandler:</div>
<div class="dyncontent">
<div class="center"><img src="classPowerCtrlHandler__inherit__graph.png" border="0" usemap="#PowerCtrlHandler_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for PowerCtrlHandler:</div>
<div class="dyncontent">
<div class="center"><img src="classPowerCtrlHandler__coll__graph.png" border="0" usemap="#PowerCtrlHandler_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02670ada1ec4c99c4fb868dffe414bb1"><td class="memItemLeft" align="right" valign="top">HandlerError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPowerCtrlHandler.html#a02670ada1ec4c99c4fb868dffe414bb1">handleRequest</a> (struct mg_connection *mgCon, struct mg_str *message, char *commandName, char *response)</td></tr>
<tr class="memdesc:a02670ada1ec4c99c4fb868dffe414bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle request pertaining to power control endpoint for the pc controller  <a href="#a02670ada1ec4c99c4fb868dffe414bb1">More...</a><br /></td></tr>
<tr class="separator:a02670ada1ec4c99c4fb868dffe414bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2f5a22f9fcddf0ad637c0f1170ed15"><td class="memItemLeft" align="right" valign="top">HandlerError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPowerCtrlHandler.html#a1f2f5a22f9fcddf0ad637c0f1170ed15">handleReport</a> (char *stateReport)</td></tr>
<tr class="memdesc:a1f2f5a22f9fcddf0ad637c0f1170ed15"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle reports pertaining to power controller endpoint for pc controller  <a href="#a1f2f5a22f9fcddf0ad637c0f1170ed15">More...</a><br /></td></tr>
<tr class="separator:a1f2f5a22f9fcddf0ad637c0f1170ed15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af4e1d6bc8508bfd9fae6f85cdd7c745b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPowerCtrlHandler.html#af4e1d6bc8508bfd9fae6f85cdd7c745b">buttonInterruptHandler</a> (int pin, void *arg)</td></tr>
<tr class="memdesc:af4e1d6bc8508bfd9fae6f85cdd7c745b"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle the case power on switch interrupt  <a href="#af4e1d6bc8508bfd9fae6f85cdd7c745b">More...</a><br /></td></tr>
<tr class="separator:af4e1d6bc8508bfd9fae6f85cdd7c745b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7544cfd1f43bdcb6eff7ac7c05494a6f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPowerCtrlHandler.html#a7544cfd1f43bdcb6eff7ac7c05494a6f">setPcStatus</a> (bool pcStatus)</td></tr>
<tr class="memdesc:a7544cfd1f43bdcb6eff7ac7c05494a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">setter for the pc status variable  <a href="#a7544cfd1f43bdcb6eff7ac7c05494a6f">More...</a><br /></td></tr>
<tr class="separator:a7544cfd1f43bdcb6eff7ac7c05494a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b94bb6237f7f4e3de6f1d7240a2f80"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPowerCtrlHandler.html#a74b94bb6237f7f4e3de6f1d7240a2f80">getPcStatus</a> (void)</td></tr>
<tr class="memdesc:a74b94bb6237f7f4e3de6f1d7240a2f80"><td class="mdescLeft">&#160;</td><td class="mdescRight">used to get whether the pc is on or off  <a href="#a74b94bb6237f7f4e3de6f1d7240a2f80">More...</a><br /></td></tr>
<tr class="separator:a74b94bb6237f7f4e3de6f1d7240a2f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>the power controller class responsible for handling power controller endpoint functionalities for the pc controller </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af4e1d6bc8508bfd9fae6f85cdd7c745b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e1d6bc8508bfd9fae6f85cdd7c745b">&#9670;&nbsp;</a></span>buttonInterruptHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PowerCtrlHandler::buttonInterruptHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>handle the case power on switch interrupt </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin</td><td>pin that the interrupt comes from </td></tr>
    <tr><td class="paramname">arg</td><td>any custom arguments that is to be passed to the interrupt handler, not used in This case When the user presses the power on swithc on the case, the interrupt will be called to actuate on that switch as well as update the status of the pc </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a74b94bb6237f7f4e3de6f1d7240a2f80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b94bb6237f7f4e3de6f1d7240a2f80">&#9670;&nbsp;</a></span>getPcStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PowerCtrlHandler::getPcStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>used to get whether the pc is on or off </p>
<dl class="section return"><dt>Returns</dt><dd>true pc is on </dd>
<dd>
false pc is off read the state variable to get the lastknown status of the pc </dd></dl>

</div>
</div>
<a id="a1f2f5a22f9fcddf0ad637c0f1170ed15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2f5a22f9fcddf0ad637c0f1170ed15">&#9670;&nbsp;</a></span>handleReport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HandlerError PowerCtrlHandler::handleReport </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>stateReport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle reports pertaining to power controller endpoint for pc controller </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stateReport</td><td>buffer to write report to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HandlerError Will report the current PC is on or off </dd></dl>

</div>
</div>
<a id="a02670ada1ec4c99c4fb868dffe414bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02670ada1ec4c99c4fb868dffe414bb1">&#9670;&nbsp;</a></span>handleRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HandlerError PowerCtrlHandler::handleRequest </td>
          <td>(</td>
          <td class="paramtype">struct mg_connection *&#160;</td>
          <td class="paramname"><em>mgCon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct mg_str *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>commandName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle request pertaining to power control endpoint for the pc controller </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgCon</td><td>struct representing connection to server </td></tr>
    <tr><td class="paramname">message</td><td>message sent to the mcu by the server </td></tr>
    <tr><td class="paramname">commandName</td><td>name of the command in the payload sent by the server </td></tr>
    <tr><td class="paramname">response</td><td>buffer to write the response to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HandlerError Will read the command name and see whether to turn the pc on or off, then if the pc is not at the desired state, actuate the change then make a report of the new state to be sent back to the server </dd></dl>

</div>
</div>
<a id="a7544cfd1f43bdcb6eff7ac7c05494a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7544cfd1f43bdcb6eff7ac7c05494a6f">&#9670;&nbsp;</a></span>setPcStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PowerCtrlHandler::setPcStatus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pcStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setter for the pc status variable </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcStatus</td><td>the status to change the variable to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="power__ctrl__handler_8hpp_source.html">power_ctrl_handler.hpp</a></li>
<li>src/<a class="el" href="power__ctrl__handler_8cpp.html">power_ctrl_handler.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
